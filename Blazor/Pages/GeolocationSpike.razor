@page "/geolocation"
@using BrowserInterop.Extensions

<h3>Geolocation</h3>
  <h3>Getting Focused</h3>

    <input @ref="_inputRef" />

    <button @onclick="GetLocation">Get location</button>

    <h1>Your location: Longitude is @Longitude and Latitude is @Latitude</h1>

@code {
    [Inject] private IJSRuntime? JsRuntime { get; set; }
    [Inject] private IGeoLocationService GeoLocationService { get; set; }
    private ElementReference _inputRef;

    public string CurrentLocation;
    public decimal Longitude;
    public decimal Latitude;

    public async Task GetLocation()
    {
        await GeoLocationService.GetCoords();
    }

    public async Task OnButtonClicked()
    {
       var geoLocationResponse = await GeoLocationService.GetCoords();

        Longitude = geoLocationResponse.Location.Coords.Longitude;
        Latitude = geoLocationResponse.Location.Coords.Latitude;

    }


}
